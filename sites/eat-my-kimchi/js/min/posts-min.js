function formatDate(s){return s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear()}function formatTime(s){var t=s.toLocaleTimeString("en-US").indexOf(":");return t+=2,s.toLocaleTimeString("en-US").slice(0,t+1)+s.toLocaleTimeString("en-US").slice(t+4)}function stripMessage(s){return s=s.replace(/\n/g,"<br />")}function populatePosts(){$(".posts .post").each(function(s){$(this).data("age",posts[10*page+s].age),$(this).data("likes",posts[10*page+s].likes),$(this).data("message",posts[10*page+s].message),$(this).data("fontSize",posts[10*page+s].fontSize),$(this).updatePost()})}function setArrows(){0===page?$("a.arrow.prev").addClass("disabled"):$("a.arrow.prev").removeClass("disabled"),10*(page+1)>=posts.length?$("a.arrow.next").addClass("disabled"):$("a.arrow.next").removeClass("disabled"),$("a.arrow").each(function(){$(this).hasClass("disabled")?$(this).attr("href","javascript: void(0)"):$(this).attr("href","#")})}jQuery.fn.extend({updatePost:function(){var s=$(this).data("message");s=stripMessage(s),$(this).find(".message").html(s),$(this).find(".message").css("font-size",$(this).data("fontSize")),$(this).find(".date").html(formatDate($(this).data("age"))),$(this).find(".time").html(formatTime($(this).data("age"))),$(this).find(".numLikes").html($(this).data("likes")),console.log("Post updated")}}),populatePosts(),$("a.like").click(function(){var s=$(this).closest(".post").data("likes");$(this).hasClass("liked")?($(this).removeClass("liked"),s--):($(this).addClass("liked"),s++),$(this).closest(".post").data("likes",s),$(this).closest(".post").updatePost(),console.log("Post Liked")}),setArrows(),$("a.arrow").click(function(){$(this).hasClass("disabled")||($(this).hasClass("next")?page++:page--,setArrows(),$(".posts").fadeTo(500,0),setTimeout(function(){populatePosts()},500),$(".posts").fadeTo(500,1))});