function sortPosts(t){"time"===t?posts.sort(function(t,s){return s.age-t.age}):"likes"===t&&posts.sort(function(t,s){return s.likes-t.likes}),populatePosts(),setArrows(),console.log("sorted by "+t)}$("select[name='sort']").change(function(){page=0,$(this).attr("value",function(){return $(this).find(":selected").attr("value")});var t=$(this).attr("value");$(".posts").fadeTo(500,0),setTimeout(function(){sortPosts(t)},500),$(".posts").fadeTo(500,1)}),sortPosts("time");